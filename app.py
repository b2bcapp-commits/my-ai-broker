import streamlit as st
import pandas as pd

# --- 1. CONFIG & THEME ---
st.set_page_config(page_title="Global Closer Engine", layout="wide", page_icon="ðŸš€")

# --- 2. MULTI-LANGUAGE DICTIONARY ---
translations = {
    "à¹„à¸—à¸¢": {"welcome": "à¸£à¸°à¸šà¸šà¸›à¸´à¸”à¸”à¸µà¸¥à¸­à¸±à¸ˆà¸‰à¸£à¸´à¸¢à¸°", "sourcing": "à¸„à¹‰à¸™à¸«à¸²à¸‹à¸±à¸žà¸žà¸¥à¸²à¸¢à¹€à¸­à¸­à¸£à¹Œ", "doc": "à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸­à¸à¸ªà¸²à¸£à¸™à¸²à¸¢à¸«à¸™à¹‰à¸²", "comm": "à¸„à¹ˆà¸²à¸„à¸­à¸¡à¸¡à¸´à¸Šà¸Šà¸±à¹ˆà¸™"},
    "English": {"welcome": "Global Closer Engine", "sourcing": "Supplier Sourcing", "doc": "Broker Documents", "comm": "Commission"},
    "ç®€ä½“ä¸­æ–‡": {"welcome": "å…¨çƒæˆäº¤å¼•æ“Ž", "sourcing": "å¯»æ‰¾ä¾›åº”å•†", "doc": "ç»çºªäººæ–‡ä»¶", "comm": "ä½£é‡‘ç®¡ç†"}
}

# --- 3. SIDEBAR (à¹€à¸¡à¸™à¸¹à¸„à¸§à¸šà¸„à¸¸à¸¡) ---
st.sidebar.title("ðŸŽ® Command Center")
selected_lang = st.sidebar.selectbox("ðŸŒ Language / è¯­è¨€", list(translations.keys()))
lang = translations[selected_lang]

menu = st.sidebar.radio("à¹€à¸¡à¸™à¸¹à¸ªà¸–à¸²à¸™à¸µà¸‡à¸²à¸™", [lang['welcome'], lang['sourcing'], lang['doc'], lang['comm']])

# --- 4. MAIN CONTENT ---

if menu == lang['welcome']:
    st.title(f"ðŸŒ {lang['welcome']}")
    st.markdown("### à¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸š CEO! à¸£à¸°à¸šà¸š AI à¸žà¸£à¹‰à¸­à¸¡à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™à¸à¸²à¸£à¸›à¸´à¸”à¸”à¸µà¸¥à¸‚à¸­à¸‡à¸„à¸¸à¸“")
    st.info("ðŸ’¡ à¸„à¸³à¹à¸™à¸°à¸™à¸³: à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸²à¸‹à¸±à¸žà¸žà¸¥à¸²à¸¢à¹€à¸­à¸­à¸£à¹Œ à¸«à¸£à¸·à¸­à¸£à¹ˆà¸²à¸‡à¹€à¸­à¸à¸ªà¸²à¸£à¸‚à¸­à¹€à¸›à¹‡à¸™à¸™à¸²à¸¢à¸«à¸™à¹‰à¸²à¹ƒà¸™à¹€à¸¡à¸™à¸¹à¸”à¹‰à¸²à¸™à¸‹à¹‰à¸²à¸¢")
    
    # à¸ªà¹ˆà¸§à¸™à¹‚à¸Šà¸§à¹Œ Dashboard à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™
    c1, c2, c3 = st.columns(3)
    c1.metric("Active Deals", "12", "Sugar/Chicken")
    c2.metric("Verified Suppliers", "85", "Global")
    c3.metric("Expected Revenue", "à¸¿10M+", "2026")

elif menu == lang['sourcing']:
    st.title(f"ðŸ­ {lang['sourcing']}")
    query = st.text_input("à¸£à¸°à¸šà¸¸à¸ªà¸´à¸™à¸„à¹‰à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£ (à¹€à¸Šà¹ˆà¸™ à¸™à¹‰à¸³à¸•à¸²à¸¥à¸šà¸£à¸²à¸‹à¸´à¸¥, à¹„à¸à¹ˆà¹à¸Šà¹ˆà¹à¸‚à¹‡à¸‡, à¸—à¸µà¹ˆà¸”à¸´à¸™à¸šà¸²à¸‡à¹ƒà¸«à¸à¹ˆ)")
    if query:
        st.success(f"AI à¸à¸³à¸¥à¸±à¸‡à¸„à¹‰à¸™à¸«à¸²à¸‹à¸±à¸žà¸žà¸¥à¸²à¸¢à¹€à¸­à¸­à¸£à¹Œ '{query}' à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸™à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š (Verified) à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥...")
        # à¸ˆà¸³à¸¥à¸­à¸‡à¸•à¸²à¸£à¸²à¸‡à¸‹à¸±à¸žà¸žà¸¥à¸²à¸¢à¹€à¸­à¸­à¸£à¹Œ
        data = {"à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸‹à¸±à¸žà¸žà¸¥à¸²à¸¢à¹€à¸­à¸­à¸£à¹Œ": ["à¹‚à¸£à¸‡à¸‡à¸²à¸™ A", "Export Corp B"], "à¸ªà¸–à¸²à¸™à¸°": ["Verified âœ…", "Verified âœ…"], "à¹ƒà¸šà¸£à¸±à¸šà¸£à¸­à¸‡": ["SGS, HACCP", "ISO, Export License"]}
        st.table(pd.DataFrame(data))

elif menu == lang['doc']:
    st.title(f"ðŸ“œ {lang['doc']}")
    st.subheader("à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸‚à¸­à¹€à¸›à¹‡à¸™à¸™à¸²à¸¢à¸«à¸™à¹‰à¸² (AI-Driven Offer)")
    
    with st.form("broker_form"):
        name = st.text_input("à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡à¸„à¸¸à¸“ (Broker Name)")
        product = st.text_input("à¸ªà¸´à¸™à¸„à¹‰à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸”à¸µà¸¥")
        rate = st.text_input("à¸„à¹ˆà¸²à¸„à¸­à¸¡à¸¡à¸´à¸Šà¸Šà¸±à¹ˆà¸™ (à¹€à¸Šà¹ˆà¸™ 3% à¸«à¸£à¸·à¸­ $5/MT)")
        if st.form_submit_button("ðŸš€ à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸­à¸à¸ªà¸²à¸£"):
            doc_text = f"""à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¸•à¸±à¸§à¹à¸—à¸™à¸­à¸´à¸ªà¸£à¸°\nà¹€à¸£à¸µà¸¢à¸™ à¸œà¸¹à¹‰à¸šà¸£à¸´à¸«à¸²à¸£\nà¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸² {name} à¸‚à¸­à¹€à¸ªà¸™à¸­à¸•à¸±à¸§à¹€à¸›à¹‡à¸™à¸™à¸²à¸¢à¸«à¸™à¹‰à¸²à¸„à¸±à¸”à¸à¸£à¸­à¸‡à¸œà¸¹à¹‰à¸‹à¸·à¹‰à¸­à¹ƒà¸«à¹‰à¸à¸±à¸šà¸ªà¸´à¸™à¸„à¹‰à¸² {product} à¸”à¹‰à¸§à¸¢à¸£à¸°à¸šà¸š AI à¹€à¸žà¸·à¹ˆà¸­à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸°à¸£à¸§à¸”à¹€à¸£à¹‡à¸§\nà¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚: {rate} Success Fee."""
            st.text_area("à¸à¹Šà¸­à¸›à¸›à¸µà¹‰à¹„à¸›à¸ªà¹ˆà¸‡à¹ƒà¸™ LINE/à¸­à¸µà¹€à¸¡à¸¥:", value=doc_text, height=200)
            st.download_button("ðŸ“¥ à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œà¹€à¸­à¸à¸ªà¸²à¸£", doc_text, file_name="Offer.txt")

elif menu == lang['comm']:
    st.title(f"ðŸ’° {lang['comm']}")
    st.write("à¸•à¸²à¸£à¸²à¸‡à¸•à¸´à¸”à¸•à¸²à¸¡à¸£à¸²à¸¢à¹„à¸”à¹‰à¸ˆà¸²à¸à¸ªà¹ˆà¸§à¸™à¸•à¹ˆà¸²à¸‡à¹à¸¥à¸°à¸„à¹ˆà¸²à¸„à¸­à¸¡à¸¡à¸´à¸Šà¸Šà¸±à¹ˆà¸™")
    # à¸•à¸²à¸£à¸²à¸‡à¸ˆà¸³à¸¥à¸­à¸‡
    st.write("à¸£à¸²à¸¢à¸à¸²à¸£à¸”à¸µà¸¥à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™: [à¸™à¹‰à¸³à¸•à¸²à¸¥à¸šà¸£à¸²à¸‹à¸´à¸¥ -> à¸ˆà¸µà¸™] | à¸ªà¸–à¸²à¸™à¸°: à¸£à¸­à¹€à¸›à¸´à¸” L/C | à¸„à¹ˆà¸²à¸„à¸­à¸¡à¸¯ à¸„à¸²à¸”à¸«à¸§à¸±à¸‡: $50,000")
